/* Advanced Card Animations - Liquid/Smoke Effect */

@layer utilities {
  /* Keyframe per effetto liquido dai bordi verso l'interno (disomogeneo) */
  @keyframes liquid-fill {
    0% {
      clip-path: polygon(
        0% 0%, 5% 0%, 8% 3%, 12% 1%, 18% 4%, 25% 2%, 32% 5%, 40% 3%, 48% 6%, 55% 2%, 62% 5%, 70% 3%, 78% 6%, 85% 2%, 92% 4%, 95% 1%, 100% 0%,
        100% 0%, 100% 5%, 97% 8%, 99% 12%, 96% 18%, 98% 25%, 95% 32%, 97% 40%, 94% 48%, 98% 55%, 95% 62%, 97% 70%, 94% 78%, 98% 85%, 96% 92%, 99% 95%, 100% 100%,
        100% 100%, 95% 100%, 92% 97%, 88% 99%, 82% 96%, 75% 98%, 68% 95%, 60% 97%, 52% 94%, 45% 98%, 38% 95%, 30% 97%, 22% 94%, 15% 98%, 8% 96%, 5% 99%, 0% 100%,
        0% 100%, 0% 95%, 3% 92%, 1% 88%, 4% 82%, 2% 75%, 5% 68%, 3% 60%, 6% 52%, 2% 45%, 5% 38%, 3% 30%, 6% 22%, 2% 15%, 4% 8%, 1% 5%, 0% 0%
      );
      opacity: 0;
    }
    15% {
      opacity: 0.3;
    }
    30% {
      clip-path: polygon(
        5% 5%, 10% 6%, 15% 8%, 20% 7%, 25% 10%, 30% 8%, 35% 11%, 40% 9%, 45% 12%, 50% 10%, 55% 13%, 60% 11%, 65% 14%, 70% 12%, 75% 15%, 80% 13%, 85% 16%, 90% 14%, 95% 17%,
        95% 17%, 93% 20%, 95% 25%, 92% 30%, 94% 35%, 91% 40%, 93% 45%, 90% 50%, 92% 55%, 89% 60%, 91% 65%, 88% 70%, 90% 75%, 87% 80%, 89% 85%, 86% 90%, 88% 95%,
        88% 95%, 85% 94%, 80% 95%, 75% 92%, 70% 94%, 65% 91%, 60% 93%, 55% 90%, 50% 92%, 45% 89%, 40% 91%, 35% 88%, 30% 90%, 25% 87%, 20% 89%, 15% 86%, 10% 88%, 5% 85%,
        5% 85%, 7% 80%, 5% 75%, 8% 70%, 6% 65%, 9% 60%, 7% 55%, 10% 50%, 8% 45%, 11% 40%, 9% 35%, 12% 30%, 10% 25%, 13% 20%, 11% 15%, 14% 10%, 12% 5%
      );
      opacity: 0.6;
    }
    60% {
      clip-path: polygon(
        15% 15%, 18% 17%, 22% 19%, 26% 18%, 30% 21%, 34% 19%, 38% 22%, 42% 20%, 46% 23%, 50% 21%, 54% 24%, 58% 22%, 62% 25%, 66% 23%, 70% 26%, 74% 24%, 78% 27%, 82% 25%, 85% 28%,
        85% 28%, 83% 32%, 84% 36%, 82% 40%, 83% 44%, 81% 48%, 82% 52%, 80% 56%, 81% 60%, 79% 64%, 80% 68%, 78% 72%, 79% 76%, 77% 80%, 78% 84%, 76% 85%,
        76% 85%, 72% 84%, 68% 85%, 64% 83%, 60% 84%, 56% 82%, 52% 83%, 48% 81%, 50% 82%, 46% 80%, 42% 81%, 38% 79%, 34% 80%, 30% 78%, 26% 79%, 22% 77%, 18% 78%, 15% 76%,
        15% 76%, 17% 72%, 16% 68%, 18% 64%, 17% 60%, 19% 56%, 18% 52%, 20% 48%, 19% 44%, 21% 40%, 20% 36%, 22% 32%, 21% 28%, 23% 24%, 22% 20%, 24% 16%
      );
      opacity: 0.85;
    }
    100% {
      clip-path: polygon(
        0% 0%, 100% 0%, 100% 100%, 0% 100%
      );
      opacity: 1;
    }
  }

  /* Keyframe per effetto fumo ondulato */
  @keyframes smoke-wave {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  /* Keyframe per distorsione del gradiente */
  @keyframes gradient-shift {
    0% {
      background-position: 0% 0%;
    }
    25% {
      background-position: 100% 0%;
    }
    50% {
      background-position: 100% 100%;
    }
    75% {
      background-position: 0% 100%;
    }
    100% {
      background-position: 0% 0%;
    }
  }

  /* Effetto radiale dal centro */
  @keyframes liquid-radial {
    0% {
      clip-path: circle(0% at 50% 50%);
      opacity: 0;
    }
    50% {
      opacity: 0.9;
    }
    100% {
      clip-path: circle(150% at 50% 50%);
      opacity: 1;
    }
  }

  /* Utility classes */
  .liquid-fill {
    animation: liquid-fill 1.4s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
  }

  .liquid-radial {
    animation: liquid-radial 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  .smoke-wave {
    animation: smoke-wave 3s ease-in-out infinite;
    background-size: 200% 200%;
  }

  .gradient-shift {
    animation: gradient-shift 4s ease infinite;
    background-size: 200% 200%;
  }

  /* Performance optimizations */
  .will-change-transform {
    will-change: transform, opacity, clip-path;
  }

  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
  }
}
